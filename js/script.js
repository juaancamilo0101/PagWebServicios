document.addEventListener('DOMContentLoaded',function(){const form=document.getElementById('contact-form');const mensajeExito=document.getElementById('mensaje-exito');const mensajeError=document.getElementById('mensaje-error');if(form){form.addEventListener('submit',function(event){event.preventDefault();let isValid=!0;const nombreInput=document.getElementById('nombre');const emailInput=document.getElementById('email');const mensajeInput=document.getElementById('mensaje');if(nombreInput.value.trim()===''){nombreInput.classList.add('is-invalid');isValid=!1}else{nombreInput.classList.remove('is-invalid')}
if(emailInput.value.trim()===''||!/\S+@\S+\.\S+/.test(emailInput.value)){emailInput.classList.add('is-invalid');isValid=!1}else{emailInput.classList.remove('is-invalid')}
if(mensajeInput.value.trim()===''){mensajeInput.classList.add('is-invalid');isValid=!1}else{mensajeInput.classList.remove('is-invalid')}
if(!isValid){return}
emailjs.sendForm('service_xqoudss','template_concm6h',this).then(function(){console.log('SUCCESS!');mensajeExito.style.display='block';mensajeError.style.display='none';form.reset()},function(error){console.log('FAILED...',error);mensajeExito.style.display='none';mensajeError.style.display='block'})})}});async function cargarTraducciones(idioma){try{localStorage.setItem('idioma',idioma);const response=await fetch('/js/idiomas.json');const data=await response.json();for(const clave in data){if(data.hasOwnProperty(clave)){const elemento=document.getElementById(clave);if(elemento){elemento.textContent=data[clave][idioma]}}}
document.getElementById('idiomaActual').textContent=idioma.toUpperCase();const idiomasDropdown=document.querySelectorAll('.dropdown-item');idiomasDropdown.forEach(idiomaDropdown=>{const i=idiomaDropdown.querySelector('i');if(idiomaDropdown.id===idioma){i.classList.add('fa-check');i.classList.remove('fa-blank')}else{i.classList.remove('fa-check');i.classList.add('fa-blank')}})}catch(error){console.error('Error al cargar las traducciones:',error)}}
document.addEventListener('DOMContentLoaded',()=>{const idiomasDropdown=document.querySelectorAll('.dropdown-item');idiomasDropdown.forEach(idiomaDropdown=>{const i=idiomaDropdown.querySelector('i');i.classList.add('fa-blank')});cargarTraducciones(localStorage.getItem('idioma')||'es');document.querySelectorAll('.dropdown-item').forEach(item=>{item.addEventListener('click',(event)=>{event.preventDefault();const idiomaSeleccionado=item.id;cargarTraducciones(idiomaSeleccionado)})})})